import random
import numpy as np
import datetime
from dagsim.base import Graph, Node

SAMPLE_SIZE = 1000

#Generator functions to support initialisation of simulation variables
def my_range(stop):
    return range(stop)

def get_date():
    days = [1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]
    months = [1,2,3,4,5,6,7,8,9,10,11]
    years = [2000,2001,2002,2003,2004,2005,2006,2007,2008,2009,2010,2011,2012,2013,2014,2015,2016,2017,2018,2019]
    format_data = "%Y%m%d"
    date_rand = datetime.datetime(random.choice(years), random.choice(months), random.choice(days))
    print(date_rand.strftime(format_data))
    return date_rand.strftime(format_data)

def serious_type_from_generator():
    if np.random.binomial(n=1, p=0.5) > 0.5:
        return 'Y'
    else:
        return 'N'

def get_gender():
    if np.random.binomial(n=1, p=0.5) > 0.5:
        return '1'
    else:
        return '2'

def get_age_group():
    age_list = [1,2,3,4,5,6,7,8,9]
    return random.choice(age_list)

def get_seriousness():
    if np.random.binomial(n=1, p=0.6) > 0.5:
        return np.random.binomial(5, 0.5) + 1 # add 1 as 0 is not a valid seriousness value
    else:
        return "- "

def get_challenge():
    if np.random.binomial(n=1, p=0.6) > 0.5:
        return np.random.binomial(4, 0.5) + 1 # add 1 as 0 is not a valid seriousness value
    else:
        return "-"

def get_indication_type():
    sample_indications = ["5q minus mds", "Abdominal discomfort", "Abdominal pain", "Abdominal pain nos", "Abdominal pain upper", "Abdominal tuberculosis", "Abortion induced", "Abscess dental", "Abscess nos", "Accidental exposure to product", "Accidental exposure to product by child", "Accidental ingestion of drug", "Ache", "Acid reflux (esophageal)", "Acid reflux (oesophageal)", "Acne", "Acne bromata", "Acne conglobata", "Acne cystic", "Acne vulgaris", "Acquired haemophilia a with anti factor viii", "Acquired immunodeficiency syndrome", "Acral lentiginous melanoma", "Acromegaly", "Actinic keratosis", "Acute biphenotypic leukaemia", "Acute bronchiolitis due to respiratory syncytial virus", "Acute bronchitis, unspecified", "Acute coronary syndrome", "Acute heart failure", "Acute hiv infection", "Acute hiv infection syndrome", "Acute hiv syndrome", "Acute kidney injury", "Acute laryngitis", "Acute lymphatic leukaemia", "Acute lymphoblastic leukemia", "Acute lymphoblastic leukemia recurrent", "Acute lymphocytic leukaemia", "Acute migraine", "Acute myeloblastic leukaemia", "Acute myeloid leukaemia", "Acute myeloid leukaemia recurrent", "Acute myeloid leukaemia refractory", "Acute myeloid leukemia", "Acute myocardial infarction", "Acute pain", "Acute pharyngitis", "Acute pneumonia", "Acute promyelocytic leukaemia", "Acute respiratory distress syndrome", "Acute subendocardial myocardial infarction", "Acute tonsillitis", "Add", "Addison's disease", "Adenocarcinoma of colon", "Adenocarcinoma of colon metastatic", "Adenocarcinoma pancreas", "Adhd", "Adiposis", "Adjustment disorder", "Adjuvant therapy", "Adrenal insufficiency", "Adrenogenital syndrome", "Adult onset still's disease", "Adult t-cell leukemia-lymphoma", "Adult t-cell lymphoma/leukaemia", "Adverse drug reaction", "Affect lability", "Affective disorder", "Afib", "Age-related macular degeneration", "Aggressive systemic mastocytosis", "Agitation", "Ahus", "Aids", "Alcohol craving", "Alcohol dependence syndrome", "Alcohol use", "Alcoholic", "Alcoholic psychosis", "Alcoholism", "Allergenic desensitisation procedure", "Allergic asthma", "Allergic bronchopulmonary aspergillosis", "Allergic reaction nos", "Allergic rhinitis", "Allergy", "Allergy nos", "Allogeneic peripheral haematopoietic stem cell transplant", "Allogeneic stem cell transplantation", "Allogenic bone marrow transplantation therapy", "Alopecia", "Alopecia areata", "Alpha-1 antitrypsin deficiency", "Alzheimer's disease", "Amebic liver abscess", "Amyloidosis", "Amyloidosis senile", "Amyotrophic lateral sclerosis", "Anaemia", "Anaemia iron deficiency", "Anaemia post chemotherapy", "Anaesthesia", "Anaesthesia eye", "Anaesthesia procedure", "Anal abscess", "Anal cancer", "Anal squamous cell carcinoma", "Analgesia", "Analgesic effect", "Analgesic therapy", "Anaphylactic reaction", "Anaplastic astrocytoma", "Anaplastic large-cell lymphoma", "Anaplastic thyroid cancer", "Androgen replacement therapy", "Anemia", "Anemia iron deficiency", "Anemia prophylaxis", "Anesthesia", "Anesthesia eye", "Aneurysm", "Angina of effort", "Angina on exercise", "Angina pectoris", "Angioedema", "Angiogram", "Angioimmunoblastic t-cell lymphoma", "Angioimmunoblastic t-cell lymphoma recurrent", "Ankylosing spondylitis", "Ankylosing spondylitis relapse", "Antacid therapy", "Anti-myelin-associated glycoprotein associated polyneuropathy", "Anti-neutrophil cytoplasmic antibody positive vasculitis", "Anti-ss-a antibody positive", "Antiallergic therapy", "Antibiotic prophylaxis", "Antibiotic therapy", "Antibody-mediated rejection", "Anticoagulant reversal therapy", "Anticoagulant therapy", "Antidepressant therapy", "Antidepressant type abuse", "Antiemetic supportive care", "Antifungal prophylaxis", "Antifungal treatment", "Antihistamine therapy", "Antiinflammatory therapy", "Antimalarials and drugs acting on other blood protozoa", "Antiphospholipid syndrome", "Antiplatelet therapy", "Antiretroviral therapy", "Antiviral prophylaxis", "Anxiety", "Anxiety disorder", "Anxiety neurosis", "Anxiety state", "Anxiodepressive syndrome", "Aortic valve replacement", "Aplastic anaemia", "Aplastic anemia", "Appetite disorder", "Appetite lost", "Arm spasticity", "Arrhythmia", "Arrhythmia nos", "Arterial calcification", "Arterial hypertension", "Arterial pressure high", "Arterial stent insertion", "Arteriogram", "Arteriogram coronary", "Arteriosclerosis", "Arteriosclerosis coronary artery", "Arthralgia", "Arthritis", "Arthritis rheumatoid", "Arthropathy", "Arthropathy psoriatic", "Arthrosis", "Arthrosis, unspecified", "Ascites", "Aspergillus infection", "Associated with (apah)", "Asteatosis", "Asthenia", "Asthenopia", "Asthma", "Asthma aggravated", "Asthma bronchial", "Atherosclerotic cardiovascular disease", "Atherothrombosis prophylaxis", "Atopic dermatitis", "Atrial fibrillation", "Atrial fibrillation paroxysmal", "Atrial flutter", "Attention deficit disorder", "Attention deficit hyperactivity disorder", "Attention deficit-hyperactivity disorder", "Attention deficit/hyperactivity disorder", "Atypical haemolytic uraemic syndrome", "Autism", "Autoimmune retinopathy", "Autoimmune thyroiditis", "Automated peritoneal dialysis", "Autonomic nervous system imbalance", "Avascular necrosis femoral head", "Axial spondyloarthritis", "B-cell chronic lymphocytic leukemia", "B-cell lymphoma", "B-cell small lymphocytic lymphoma", "Bacillary dysentery", "Back injury", "Back pain", "Bacteraemia", "Bacterial infection", "Bacterial infection nos", "Bacterial meningitis", "Bacterial pneumonia, unspecified", "Bacterial vaginosis", "Bacterial vulvovaginitis", "Bad mood", "Balance disorder", "Basal cell carcinoma", "Basedow's disease", "Behavioral and psychiatric symptoms of dementia", "Behcet's syndrome", "Below knee amputation", "Benign prostatic hyperplasia", "Biliary enzyme increased", "Biliary sludge", "Biliary tract infection", "Biopsy", "Bipolar affective disorder", "Bipolar disorder", "Bipolar i disorder", "Bladder cancer", "Bladder discomfort", "Bladder disorder", "Bladder dysfunction", "Bladder infection", "Bladder inflammation", "Bladder spasm", "Bladder transitional cell carcinoma", "Blast cell crisis", "Bleeding menstrual heavy", "Bloating", "Blood cholesterol", "Blood cholesterol abnormal", "Blood cholesterol decreased", "Blood cholesterol increased", "Blood glucose", "Blood glucose abnormal", "Blood glucose increased", "Blood oestrogen decreased", "Blood parathyroid hormone increased", "Blood pressure", "Blood pressure abnormal", "Blood pressure decreased", "Blood pressure high", "Blood pressure increased", "Blood pressure labile", "Blood pressure measurement", "Blood stem cell transplant", "Blood sugar increased", "Blood testosterone decreased", "Blood triglycerides", "Blood triglycerides increased", "Blood uric acid increased", "Bone disorder", "Bone marrow conditioning regimen", "Bone marrow transplant", "Bone metastases", "Bone pain", "Borrelia infection", "Borrelia infection nos", "Bowel movement irregularity", "Bowel peristalsis decreased", "Bpsd", "Bradycardia-tachycardia syndrome", "Brain injury", "Brain metastases", "Brain neoplasm malignant", "Brain oedema", "Breakthrough pain", "Breast cancer", "Breast cancer female", "Breast cancer metastatic", "Breast cancer recurrent", "Breast cancer stage iv", "Breast carcinoma", "Breast carcinoma stage iv", "Breathlessness", "Bronchial asthma", "Bronchial carcinoma", "Bronchial disorder", "Bronchiectasis", "Bronchitis", "Bronchitis chronic", "Bronchopneumonia", "Bronchospasm", "Brucellosis", "Bullous pemphigoid", "Burkitt's lymphoma", "Bursitis", "Cabg", "Caesarean section", "Calcium supplementation", "Calculus of gallbladder with acute cholecystitis", "Calculus urinary", "Caloric supplementation", "Cancer", "Cancer (nos)", "Cancer of head of pancreas", "Cancer of lung", "Cancer of ovary", "Cancer of sigmoid colon (excl rectosigmoid)", "Cancer pain", "Candida infection", "Candida sepsis", "Cannabis abuse", "Capd", "Carcinoid syndrome", "Carcinoid tumour of the caecum", "Carcinoid tumour of the gastrointestinal tract", "Carcinoma hepatocellular", "Carcinoma liver", "Carcinomatous pleurisy", "Cardiac disorder", "Cardiac disorder nos", "Cardiac failure", "Cardiac failure chronic", "Cardiac failure congestive", "Cardiac fibrillation", "Cardiac operation", "Cardiomyopathy", "Cardiovascular disease, unspecified", "Cardiovascular disorder", "Cardiovascular event prophylaxis", "Cardioversion", "Carotid artery stenosis", "Carotid artery stent insertion", "Castration-resistant prostate cancer", "Cataplexy", "Cataract", "Catatonic schizophrenia", "Cellulitis", "Cellulitis of leg", "Central diabetes insipidus", "Central nervous system lymphoma", "Central nervous system vasculitis", "Central serous retinopathy", "Cerebral aneurysm, nonruptured", "Cerebral palsy", "Cerebrovascular accident", "Cerebrovascular accident prophylaxis", "Cervical spondylosis", "Cervix carcinoma", "Chelation therapy", "Chemotherapy", "Chemotherapy antiemetic prophylaxis", "Chemotherapy induced neutropenia", "Chemotherapy premedication", "Chest pain", "Childhood asthma", "Chills", "Cholangiocarcinoma", "Cholesterol", "Cholesterol high", "Choroidal neovascularisation", "Chronic allergic rhinosinusitis", "Chronic atrial fibrillation", "Chronic cough", "Chronic disease", "Chronic gastritis", "Chronic graft versus host disease", "Chronic heart failure", "Chronic hepatitis", "Chronic hepatitis b", "Chronic hepatitis c", "Chronic hepatitis c genotype 4", "Chronic infection with hiv", "Chronic ischaemic heart disease", "Chronic kidney disease", "Chronic left ventricular failure", "Chronic lumbago", "Chronic lymphocytic leukaemia", "Chronic lymphocytic leukaemia recurrent", "Chronic lymphocytic leukaemia refractory", "Chronic lymphocytic leukemia", "Chronic lymphocytic leukemia refractory", "Chronic migraine", "Chronic myeloid leukaemia", "Chronic myeloid leukemia", "Chronic obstructive bronchopneumopathy", "Chronic obstructive pulmonary disease", "Chronic pain", "Chronic phase chronic myeloid leukaemia", "Chronic phase chronic myeloid leukemia", "Chronic polyarthritis", "Chronic respiratory disease", "Chronic sinusitis", "Chronic thromboembolic pulmonary hypertension", "Chronic urticaria", "Chronic viral hepatitis c", "Circadian rhythm sleep disorder", "Circulatory failure", "Cirrhosis liver", "Classical hodgkin lymphoma", "Clear cell carcinoma of the kidney", "Clear cell renal cell carcinoma", "Cll", "Clonal evolution", "Clostridium difficile colitis", "Cml", "Cmv viraemia", "Coagulopathy", "Cocaine abuse", "Cold", "Cold hands & feet", "Cold symptoms", "Colicky", "Colitis microscopic", "Colitis ulcerative", "Colitis ulcerative aggravated", "Colon cancer", "Colon cancer metastatic", "Colon cancer recurrent", "Colon cancer stage iv", "Colon carcinoma", "Colonoscopy", "Colopathy", "Colorectal cancer", "Colorectal cancer metastatic", "Colorectal cancer recurrent", "Colorectal carcinoma", "Colpomycosis", "Common cold", "Common variable immunodeficiency", "Community acquired pneumonia", "Completed suicide", "Complex regional pain syndrome", "Compression fracture", "Computerised axial tomogram", "Computerised tomogram", "Computerised tomogram coronary artery", "Computerized tomogram", "Concentration impaired", "Congenital anomaly", "Congenital aplastic anaemia", "Congestive heart failure", "Conjunctival abrasion", "Conjunctival congestion", "Conjunctivitis", "Conjunctivitis allergic", "Constipation", "Constipation chronic", "Constipation prophylaxis", "Contraception", "Contraception nos", "Contusion", "Convexity meningioma", "Convulsion", "Convulsion prophylaxis", "Convulsions grand mal", "Copd", "Copd exacerbation", "Cor pulmonale chronic", "Cord blood transplant therapy", "Corona virus infection", "Coronary artery dilatation", "Coronary artery disease", "Coronary artery thrombosis", "Coronary disease", "Coronary heart disease", "Coronary insufficiency", "Coronary sclerosis", "Coronary spastic angina", "Coronavirus infection", "Cough", "Cough nonproductive", "Coughing", "Covid-19", "Covid-19 immunisation", "Covid-19 pneumonia", "Covid-19 prophylaxis", "Covid-19 treatment", "Coxiella burnetii infection", "Cramp muscle", "Cramps", "Cramps in the calves", "Cramps menstrual", "Craniotomy", "Creatine kinase high", "Crest syndrome", "Crohn's disease", "Crohn's disease aggravated", "Ct scan", "Ct scan neck", "Cteph", "Cushing's syndrome", "Cutaneous leishmaniasis", "Cutaneous leishmaniasis, american", "Cystic fibrosis", "Cystic fibrosis lung", "Cystinosis", "Cystitis", "Cystitis haemorrhagic", "Cystitis noninfective", "Cytomegalovirus infection", "Cytomegalovirus prophylaxis", "D & c", "Daytime sleepiness", "Decompensated cirrhosis", "Decreased appetite", "Decreased hemoglobin", "Deep vein thrombosis", "Deep venous thrombosis nos", "Dehydration", "Deluded", "Delusional disorder, unspecified type", "Dementia", "Dementia alzheimer's type", "Dental care", "Dental disorder prophylaxis", "Dental treatment", "Depressed mood", "Depression", "Depression nos", "Depressive disorder", "Depressive episode", "Depressive symptom", "Dermal cyst", "Dermatitis", "Dermatitis atopic", "Dermatomyositis", "Diabetes", "Diabetes mellitus", "Diabetes mellitus without mention of complication", "Diabetic", "Diabetic macular oedema", "Diabetic neuropathy", "Diabetic retinal oedema", "Diabetic retinopathy", "Diabetic ulcer", "Diagnostic procedure", "Dialysis", "Diamond-blackfan anaemia", "Diarrhea", "Diarrhoea", "Diarrhoea predominant irritable bowel syndrome", "Diffuse large b-cell lymphoma", "Diffuse large b-cell lymphoma recurrent", "Diffuse systemic sclerosis", "Digoxin toxicity", "Dilated cardiomyopathy", "Disease crohns", "Disease parkinson's", "Disease progression", "Disorder circulatory system", "Disorder sleep", "Disorders of fluid, electrolyte and acid-base balance", "Disorders of vestibular function", "Disseminated intravascular coagulation", "Disseminated mycobacterium avium complex infection", "Diuretic therapy", "Diverticular disease", "Dizziness", "Documented allergy to administered drug", "Dog bite", "Drug abuse", "Drug dependence", "Drug exposure during pregnancy", "Drug exposure via breast milk", "Drug hypersensitivity", "Drug level", "Drug overdose", "Drug specific antibody", "Drug therapy", "Drug use disorder", "Drug use for unknown indication", "Drug withdrawal maintenance therapy", "Drug withdrawal syndrome", "Drug-induced liver injury", "Drug-induced pruritus", "Dry eye", "Dry eye syndrome", "Dry mouth", "Dry skin", "Dry skin prophylaxis", "Dumping syndrome", "Dysgeusia", "Dyskinesia", "Dyslipidaemia", "Dyslipidemia", "Dysmenorrhea", "Dysmenorrhoea", "Dyspepsia", "Dysphagia", "Dysplasia", "Dyspnea", "Dyspnoea", "Dysrhythmias", "Dysuria", "Ear ache", "Ear disorder", "Ear infection fungal", "Ear infection nos", "Ear pain", "Ear vestibulitis", "Eczema", "Edema", "Ejection fraction decreased", "Electrolyte substitution therapy", "Elevated blood glucose level", "Embolism", "Embolism pulmonary", "Embolism venous", "Emesis", "Emotional disorder", "Emphysema", "Encephalomyelitis", "Encephalopathy", "End stage renal disease", "Endometrial cancer", "Endometriosis", "Endoscopy large bowel", "Endotracheal intubation", "Energy increased", "Enhanced visualisation of malignant tissue during surgery", "Enlarged prostate (benign)", "Enteritis", "Enterococcal infection", "Eosinophilic asthma", "Eosinophilic granulomatosis with polyangiitis", "Eosinophilic pneumonia acute", "Epicondylitis", "Epidural anaesthesia", "Epigastric burning", "Epilepsy", "Epileptic seizure", "Erectile dysfunction", "Erosive oesophagitis", "Erythema", "Erythema nodosum leprosum", "Esophageal acid reflux", "Essential (primary) hypertension", "Essential hypertension", "Essential thrombocythaemia", "Evans syndrome", "Exaggerated startle response", "Exfoliation glaucoma", "Extranodal marginal zone b-cell lymphoma (malt type)", "Extrapyramidal symptoms", "Extrapyramidal syndrome", "Exudative senile macular degeneration of retina", "Eye allergy", "Eye discharge", "Eye disorder", "Eye injury", "Eye irritation", "Eye lubrication therapy", "Fabry's disease", "Faeces hard", "Faeces soft", "Fallopian tube cancer", "Familial adenomatous polyposis", "Familial amyloidosis", "Familial hypercholesterolaemia", "Familial hypercholesterolemia", "Familial periodic paralysis", "Fatigue", "Febrile infection", "Febrile neutropenia", "Feeling anxious", "Feeling cold", "Feeling down", "Female reproductive neoplasm", "Femur fracture", "Ferropenic anemia", "Fever", "Fever of unknown origin", "Fever, unspecified", "Fibromyalgia", "Flatulence", "Flu", "Flu like symptoms", "Flu prophylaxis", "Flu vaccination", "Fluid imbalance", "Fluid replacement", "Fluid retention", "Fluorescein angiogram of retina", "Flushing", "Flutter atrial", "Focal epilepsy", "Foetal alcohol syndrome", "Foetal exposure during pregnancy", "Foetal tachycardia", "Follicular b-cell non-hodgkin's lymphoma", "Food allergy", "Fracture nonunion", "Fracture of intertrochanteric section of femur, closed", "Fracture of medial malleolus", "Fracture of upper end of humerus", "Fracture pain", "Fractured metatarsal", "Frontal lobe epilepsy", "Fungal infection", "Fungal infection of nail", "Fungal skin infection", "G-csf prophylaxis", "Gait disturbance", "Gallbladder cancer", "Gastralgia", "Gastric bypass", "Gastric cancer", "Gastric cancer recurrent", "Gastric cancer stage iv with metastases", "Gastric disorder", "Gastric pain", "Gastric ulcer", "Gastric ulcer prophylaxis", "Gastritis", "Gastritis prophylaxis", "Gastroesophageal reflux", "Gastroesophageal reflux disease", "Gastroesophageal reflux prophylaxis", "Gastrointestinal discomfort", "Gastrointestinal disorder", "Gastrointestinal disorder prophylaxis", "Gastrointestinal hemorrhage", "Gastrointestinal mucosal disorder", "Gastrointestinal neoplasm", "Gastrointestinal stromal tumor", "Gastrointestinal stromal tumour", "Gastrooesophageal reflux", "Gastrooesophageal reflux disease", "General anaesthesia", "General medical examination", "General physical health deterioration", "Generalised anxiety disorder", "Generalised epileptic seizure", "Generalised joint pain", "Generalised maculopapular rash", "Generalised oedema", "Generalized epileptic seizure", "Generalized hyperhidrosis", "Gerd", "Germ cell neoplasm", "Gestational diabetes", "Giddiness", "Gingival bleeding", "Glabellar frown lines", "Glaucoma", "Glioblastoma", "Glioblastoma multiforme", "Glioma", "Glomerulonephritis", "Glomerulonephritis membranous", "Glomerulonephropathy", "Glucose tolerance impaired", "Glycosylated haemoglobin increased", "Gonalgia", "Gonarthrosis", "Gonarthrosis, unspecified", "Gout", "Graft versus host disease", "Growth hormone deficiency", "Growth retardation", "Gum infection", "Gvhd", "H1n1 influenza", "Haematopoietic stem cell mobilisation", "Haematuria", "Haemochromatosis", "Haemoglobin low", "Haemolytic anaemia", "Haemophagocytic syndrome", "Haemophilia", "Haemophilia a", "Haemophilia a without inhibitors", "Haemophilia b", "Haemophilia b (factor ix)", "Haemorrhage", "Haemorrhage subcutaneous", "Haemostasis", "Hair loss", "Hairy cell leukaemia", "Hallucination, visual", "Hand and foot syndrome", "Hansen's disease", "Hashimoto's disease", "Hashimoto's thyroiditis", "Hay fever", "Head and neck cancer", "Head and neck cancer metastatic", "Head injury", "Head pain", "Headache", "Headache tension", "Heart attack", "Heart disorder", "Heart failure", "Heart insufficiency", "Heart racing", "Heart rate increased", "Heart rate irregular", "Heart transplant", "Heartburn", "Helicobacter infection", "Helicobacter pylori associated gastrointestinal disease", "Helicobacter pylori infection", "Hematology test abnormal", "Hemodilution", "Hemosiderosis", "Hepatic cancer", "Hepatic cirrhosis", "Hepatic encephalopathy", "Hepatic failure", "Hepatic function disorder", "Hepatitis", "Hepatitis c", "Hepatitis prophylaxis", "Hepatocellular carcinoma", "Hepatocellular carcinoma metastatic", "Hepatocellular carcinoma non-resectable", "Hepatosplenic t-cell lymphoma", "Her2 negative breast cancer", "Her2 positive breast cancer", "Hereditary angioedema", "Hereditary hypophosphataemic rickets", "Hereditary neuropathic amyloidosis", "Hernia", "Heroin addiction", "Herpes labialis", "Herpes nos", "Herpes simplex", "Herpes virus infection", "Herpes zoster", "Herpes zoster immunisation", "Hiatus hernia", "Hidradenitis", "Hidradenitis suppurativa", "High cholesterol", "High density lipoprotein decreased", "Hip arthroplasty", "Histiocytic sarcoma", "Histoplasmosis", "Hiv disease", "Hiv disease resulting in pneumocystis carinii pneumonia", "Hiv infection", "Hiv positive", "Hiv pre-exposure prophylaxis", "Hiv seroconversion illness", "Hiv-1 infection", "Hodgkin's disease", "Hodgkin's lymphoma", "Homozygous familial hypercholesterolemia", "Hordeolum", "Hormonal intrauterine contraception", "Hormone receptor positive breast cancer", "Hormone replacement therapy", "Hormone sensitive malignant neoplasm", "Hormone therapy", "Hormone-refractory prostate cancer", "Hot flush", "House dust allergy", "House dust mite allergy", "Huntington's disease", "Hydrocephalus", "Hyperacidity", "Hypercalcaemia", "Hypercalcaemia of malignancy", "Hyperchloraemia", "Hyperchlorhydria", "Hypercholesteraemia", "Hypercholesteremia", "Hypercholesterolaemia", "Hypercholesterolemia", "Hyperglycemia", "Hypergonadism", "Hyperhidrosis", "Hyperkalaemia", "Hyperkinetic syndrome", "Hyperlipidaemia", "Hyperlipidemia", "Hyperparathyroidism", "Hyperparathyroidism secondary", "Hyperphagia", "Hyperphosphataemia", "Hyperplasia of prostate", "Hypersalivation", "Hypersensitivity", "Hypersomnia", "Hypertension", "Hypertension arterial", "Hypertension nos", "Hypertensive heart disease", "Hyperthyroidism", "Hypertonic bladder", "Hyperuricaemia", "Hyperuricemia", "Hypoaesthesia", "Hypoalbuminaemia", "Hypocalcaemia", "Hypocalcemia", "Hypochondriasis", "Hypogammaglobulinaemia", "Hypoglycaemia", "Hypogonadism", "Hypokalaemia", "Hypokalemia", "Hypometabolism", "Hyponatraemia", "Hypoosmolar state", "Hypoparathyroidism", "Hypophosphataemia", "Hypophosphatasia", "Hypopituitarism", "Hypotension", "Hypotension during dialysis", "Hypothyreosis", "Hypothyroidism", "Hypotonia", "Hypovitaminosis d", "Hypoxaemia", "Hypozincaemia", "Ibd", "Idiopathic interstitial pneumonia", "Idiopathic pulmonary arterial hypertension", "Idiopathic pulmonary fibrosis", "Idiopathic thrombocytopenic purpura", "Idiopathic urticaria", "Igg myeloma", "Ihd", "Ileus", "Iliac fossa pain", "Ill-defined disorder", "Illness", "Immune reconstitution inflammatory syndrome", "Immune thrombocytopenia", "Immune thrombocytopenic purpura", "Immune tolerance induction", "Immunisation", "Immunodeficiency", "Immunodeficiency common variable", "Immunosuppressant drug therapy", "Immunosuppression", "Impaired gastric emptying", "Impetigo", "Impulsive behaviour", "In vitro fertilisation", "Inappetence", "Incisional hernia", "Incontinence", "Increased blood pressure", "Increased intraocular pressure", "Induction of anaesthesia", "Induction of anesthesia", "Infection", "Infection mrsa", "Infection nos", "Infection prophylaxis", "Infection pseudomonas aeruginosa", "Infection tbc", "Infectious and parasitic diseases, unspecified", "Infective uveitis", "Infertility", "Infertility female", "Infestation, unspecified", "Infiltrating ductal breast cancer", "Inflammation", "Inflammation gum", "Inflammatory bowel disease", "Inflammatory bowel disease nos", "Inflammatory carcinoma of the breast", "Influenza", "Influenza a virus infection", "Influenza immunisation", "Infusion", "Infusion site extravasation", "Inguinal hernia", "Inhalation therapy", "Initial insomnia", "Injury", "Injury of small intestine", "Insomnia", "Intentional product misuse", "Interstitial pneumonia", "Intestinal fistula", "Intestinal obstruction", "Intestinal ulcer", "Intra-abdominal cancer advanced", "Intracardiac thrombus", "Intractable epilepsy", "Intrahepatic bile duct carcinoma", "Intraocular pressure", "Intraocular pressure test", "Intrauterine infection", "Invasive breast carcinoma", "Invasive ductal breast cancer", "Invasive ductal breast carcinoma", "Investigation", "Irascible", "Iron deficiency", "Iron deficiency anaemia", "Iron deficiency anemia", "Iron overload", "Irritable bowel syndrome", "Ischaemic heart disease", "Ischemic heart disease", "Itching", "Itching all over", "Joint ache", "Joint injury", "Joint pain", "Juvenile arthritis", "Juvenile idiopathic arthritis", "Kawasaki's disease", "Keratitis", "Kidney infection", "Kidney transplant", "Knee pain", "Knee total replacement", "Labour induction", "Labyrinthitis", "Lacunar infarction", "Langerhans' cell histiocytosis", "Large intestine carcinoma", "Late effects of cerebral infarction", "Laxative supportive care", "Ldl increased", "Left ventricular systolic dysfunction", "Leg edema", "Leg pain", "Leg spasticity", "Lennox-gastaut syndrome", "Leucocytoclastic vasculitis", "Leukaemia monocytic", "Leukemia", "Leukopenia", "Limb injury", "Lip and/or oral cavity cancer", "Lipid metabolism disorder", "Lipidosis", "Lipids", "Lipids abnormal", "Lipids increased", "Lipodystrophy acquired", "Liver abscess", "Liver carcinoma", "Liver cell carcinoma", "Liver disorder", "Liver metastases", "Liver transplant", "Liver transplantation", "Local anaesthesia", "Local anaesthetic", "Localised infection", "Locally advanced breast cancer", "Long qt syndrome", "Losing wt", "Low back ache", "Low back pain", "Low mood", "Lower leg oedema", "Lower limb fracture", "Lower limb wound", "Lower respiratory tract infection", "Lrti", "Lumbago", "Lumbar spinal stenosis", "Lung adenocarcinoma", "Lung adenocarcinoma stage iii", "Lung adenocarcinoma stage iv", "Lung cancer", "Lung cancer metastatic", "Lung carcinoma", "Lung carcinoma cell type unspecified stage 0", "Lung disease", "Lung disorder", "Lung hyperinflation", "Lung infection", "Lung inflammation", "Lung metastases", "Lung neoplasm", "Lung neoplasm malignant", "Lung squamous cell carcinoma stage iii", "Lupus nephritis", "Lyme disease", "Lymphadenitis nos", "Lymphadenopathy", "Lymphoblastic leukaemia nos", "Lymphocytic leukaemia", "Lymphoma", "Lymphomatoid granulomatosis", "Macular degeneration", "Macular edema", "Macular oedema", "Maintenance of anaesthesia", "Major depression", "Major depressive illness", "Malabsorption", "Malaise", "Malaria", "Malaria prophylaxis", "Malignant breast neoplasm", "Malignant glioma", "Malignant melanoma", "Malignant melanoma stage iv", "Malignant neoplasm of ovary", "Malignant neoplasm of prostate", "Malignant neoplasm of sigmoid colon", "Malignant neoplasm progression", "Malignant soft tissue neoplasm", "Malignant tongue cancer", "Manic state", "Mantle cell lymphoma", "Marginal zone lymphoma", "Maroteaux-lamy syndrome", "Maternal care for poor fetal growth", "Maternal drug exposure", "Maternal exposure timing unspecified", "Medication dilution", "Medication dose decreased", "Medullary thyroid cancer", "Medulloblastoma", "Melanoma", "Meningitis bacterial", "Meningitis cryptococcal", "Menopausal symptoms", "Menopause", "Menorrhagia", "Menstrual cycle management", "Menstruation abnormal", "Menstruation irregular", "Mental impairment", "Mental retardation", "Mesothelioma", "Metabolic acidosis", "Metastases to bone", "Metastases to breast", "Metastases to central nervous system", "Metastases to soft tissue", "Metastasis", "Metastatic breast cancer", "Metastatic colorectal cancer", "Metastatic gastric cancer", "Metastatic malignant melanoma", "Metastatic melanoma", "Metastatic renal carcinoma", "Metastatic renal cell carcinoma", "Methicillin-resistant staphylococcus aureus infection", "Microscopic polyangiitis", "Micturition disorder", "Middle cerebral artery stenosis", "Migraine", "Migraine headache", "Migraine prophylaxis", "Migraine with aura", "Mild cognitive disorder", "Mineral supplementation", "Mitral valve replacement", "Mixed anxiety and depressive disorder", "Mobility decreased", "Moderate mental retardation", "Monoclonal antibody unconjugated therapy", "Monoclonal gammopathy", "Mood change", "Mood disorder", "Mood swings", "Motion sickness", "Motor dysfunction", "Movement disorder", "Mri", "Ms", "Mucopolysaccharidosis i", "Mucopolysaccharidosis vi", "Mucormycosis, unspecified", "Mucosal inflammation", "Multidrug resistant pulmonary tuberculosis", "Multidrug resistant tuberculosis", "Multiple allergies", "Multiple cerebral infarction", "Multiple fractures", "Multiple myeloma", "Multiple sclerosis", "Multiple sclerosis aggravated", "Multiple sclerosis relapse", "Muscle building therapy", "Muscle cramps", "Muscle hypertonia", "Muscle pain", "Muscle relaxant therapy", "Muscle relaxation", "Muscle spasms", "Muscle spasticity", "Muscle strain", "Muscle tension", "Muscular pain", "Musculoskeletal discomfort", "Musculoskeletal disorder", "Musculoskeletal pain", "Musculoskeletal stiffness", "Myalgia", "Myasthenia", "Myasthenia gravis", "Myasthenic syndrome", "Mycobacterial infection", "Mycobacterium avium complex infection", "Mycobacterium avium complex prophylaxis", "Mycobacterium tuberculosis test positive", "Mycoplasma pneumoniae pneumonia", "Mycoplasmal pneumonia", "Mycosis fungoides", "Myelodysplastic syndrome", "Myelofibrosis", "Myeloma", "Myeloproliferative disorder", "Myeloproliferative neoplasm", "Myocardial infarction", "Myocardial ischaemia", "Myoclonic epilepsy", "Myoma", "Myotonic dystrophy", "Myxedema", "Narcolepsy", "Nasal congestion", "Nasal discharge", "Nasal herpes", "Nasal polyps", "Nasal stuffiness", "Nasopharyngeal cancer", "Nasopharyngitis", "Nausea", "Nausea and vomiting", "Nausea post chemotherapy", "Nausea prophylaxis", "Neck pain", "Need for immunization against diphtheria-tetanus-pertussis, combined [dtp]", "Need for immunization against measles-mumps-rubella [mmr]", "Need for immunization against tuberculosis [bcg]", "Need for immunization against unspecified infectious disease", "Need for other prophylactic measures", "Neoplasm", "Neoplasm malignant", "Neoplasm skin", "Neovascular age-related macular degeneration", "Nephrogenic anaemia", "Nephrolithiasis", "Nephropathy", "Nephrotic syndrome", "Nerve block", "Nerve injury", "Nervous system neoplasm benign", "Neural atrophy", "Neuralgia", "Neuritis", "Neuroblastoma", "Neuroendocrine breast tumour", "Neuroendocrine carcinoma", "Neuroendocrine tumor", "Neuroendocrine tumour", "Neurogenic bladder", "Neurogenic pain", "Neuromuscular blockade reversal", "Neuromyelitis optica spectrum disorder", "Neuropathic pain", "Neuropathy", "Neuropathy peripheral", "Neutropenia", "Nicotine addiction", "Nicotine dependence", "Nmr", "Nocturia", "Nodular (follicular) lymphoma", "Nodular melanoma", "Non-hodgkin's lymphoma", "Non-hodgkin's lymphoma unspecified histology indolent", "Non-insulin-dependent diabetes mellitus", "Non-secretory adenoma of pituitary", "Non-small cell lung cancer", "Non-small cell lung cancer metastatic", "Non-small cell lung cancer recurrent", "Non-small cell lung cancer stage iii", "Non-small cell lung cancer stage iv", "Normal delivery", "Normal tension glaucoma", "Normocytic anaemia", "Nuclear magnetic resonance imaging", "Numbness", "Numbness in feet", "Numbness of lower extremities", "Nutritional supplementation", "Nutritional support", "Obesity", "Obsessive rumination", "Obsessive-compulsive disorder", "Obstipation", "Obstructive bronchitis", "Occupational exposure via inhalation of product", "Ocular hypertension", "Oedema", "Oedema due to cardiac disease", "Oedema peripheral", "Oesophageal carcinoma", "Oesophageal reflux", "Off label use", "Oliguria", "On and off phenomenon", "Onychalgia", "Onychomycosis", "Open angle glaucoma", "Operation nos", "Opiate withdrawal symptoms", "Opioid induced constipation", "Opioid type dependence", "Optic tract glioma", "Oral candidiasis", "Oral contraceptive", "Oral herpes", "Oral infection", "Organic affective syndrome", "Oropharyngeal cancer", "Orthostatic hypotension", "Osteoarthritis", "Osteoarthropathy", "Osteoarticular pain", "Osteomyelitis", "Osteomyelitis of vertebra", "Osteopenia", "Osteoporosis", "Osteoporosis nos", "Osteoporosis postmenopausal", "Osteoporosis prophylaxis", "Osteoporosis steroid-induced", "Osteoporosis without pathological fracture", "Osteosarcoma", "Other disorders of bladder", "Other medical care", "Other respiratory tuberculosis, without mention of bacteriological or histological confirmation", "Other specified diabetes mellitus", "Other specified disorders of white blood cells", "Other specified infestations", "Otitis externa", "Otitis media", "Ovarian cancer", "Ovarian cancer metastatic", "Ovarian cancer recurrent", "Ovarian cancer stage iv", "Ovarian carcinoma", "Ovarian cyst", "Overactive bladder", "Overdose", "Pacemaker insertion (cardiac)", "Pain", "Pain foot", "Pain in arm", "Pain in extremity", "Pain in foot", "Pain in hip", "Pain in jaw", "Pain in joint", "Pain in lumbar spine", "Pain in spine", "Pain management", "Pain of lower extremities", "Pain of skin", "Pain pelvic", "Pain relief", "Palliative care", "Palmar-plantar erythrodysesthesia syndrome", "Pancreas carcinoma", "Pancreatectomy", "Pancreatic adenocarcinoma", "Pancreatic cancer metastatic", "Pancreatic carcinoma", "Pancreatic carcinoma metastatic", "Pancreatic insufficiency", "Pancreatic neuroendocrine tumor", "Pancreatic neuroendocrine tumour", "Panic disorder", "Panniculitis", "Papillary renal cell carcinoma", "Papillary thyroid cancer", "Paralysis", "Paralytic ileus and intestinal obstruction without hernia", "Paranoid schizophrenia", "Parkinson's disease", "Parkinsonism", "Paroxysmal atrial fibrillation", "Paroxysmal nocturnal haemoglobinuria", "Paroxysmal nocturnal hemoglobinuria", "Partial epilepsy", "Partial seizures", "Pemphigus foliaceus", "Pemphigus vulgaris", "Percutaneous coronary intervention", "Percutaneous transluminal coronary angioplasty", "Periarthritis scapulohumeralis", "Peripheral arterial occlusive disease", "Peripheral artery angioplasty", "Peripheral circulatory failure", "Peripheral haemopoietic stem cell transplant", "Peripheral neuritis", "Peripheral swelling", "Peripheral t-cell lymphoma unspecified", "Peritoneal dialysis", "Permanent atrial fibrillation", "Personal history of malignant neoplasm", "Phaeochromocytoma malignant", "Pharyngeal swelling", "Pharyngitis", "Pharyngitis bacterial", "Pharyngotonsillitis", "Phenylketonuria", "Philadelphia positive acute lymphocytic leukaemia", "Philadelphia positive chronic myeloid leukemia", "Pituitary insufficiency", "Pituitary tumour benign", "Pituitary-dependent cushing's syndrome", "Pityriasis rubra pilaris", "Pku", "Plaque psoriasis", "Plasma cell leukaemia", "Plasma cell myeloma", "Plasma cell myeloma in remission", "Plasma cell myeloma recurrent", "Plasma exchange", "Plasma protein metabolism disorder", "Plasmablastic lymphoma", "Plasmodium falciparum malaria", "Plasmodium falciparum malaria, unspecified", "Plasmodium malariae infection", "Platelets increased", "Pleural effusion", "Pleural mesothelioma malignant", "Pneumocystis carinii prophylaxis", "Pneumocystis jiroveci pneumonia", "Pneumocystis jiroveci prophylaxis", "Pneumocystis jirovecii pneumonia", "Pneumocystis jirovecii prophylaxis", "Pneumocystis pneumonia", "Pneumonia", "Pneumonia aspiration", "Pneumonia bacterial", "Pneumonia cryptococcal", "Pneumonia fungal", "Pneumonia legionella", "Pneumonia mrsa", "Pneumonia pneumococcal", "Pneumonia, organism unspecified", "Pneumonia, unspecified", "Pollakiuria", "Pollen allergy", "Pollinosis", "Polyarthritis", "Polycystic kidney, autosomal dominant", "Polycystic ovarian syndrome", "Polycystic ovaries", "Polycythaemia", "Polycythaemia vera", "Polycythemia vera", "Polydipsia", "Polymyalgia rheumatica", "Polyneuropathy", "Polyuria", "Pompe's disease juvenile onset", "Poor quality sleep", "Portal hypertension", "Portal vein thrombosis", "Post coital contraception", "Post herpetic neuralgia", "Post polycythaemia vera myelofibrosis", "Post procedural hypothyroidism", "Post procedural inflammation", "Post procedural pain", "Post-traumatic stress disorder", "Postoperative analgesia", "Postoperative care", "Postoperative complication", "Postoperative hernia", "Postoperative nausea", "Postoperative pain", "Postprandial nausea", "Potassium decreased", "Potassium supplementation", "Prader-willi syndrome", "Pre-eclampsia, unspecified", "Pre-medicate", "Precursor b-lymphoblastic leukaemia acute", "Pregnancy", "Premature baby", "Premature labour", "Premature rupture of membranes", "Premature separation of placenta [abruptio placentae]", "Premedication", "Premenstrual syndrome", "Prevention", "Primary central nervous system lymphoma", "Primary hiv infection", "Primary hypogonadism", "Primary immunodeficiency syndrome", "Primary insulin like growth factor-1 deficiency", "Primary myelofibrosis", "Primary prevention", "Primary progressive multiple sclerosis", "Primary respiratory tuberculosis without mention of bacteriological or histological confirmation", "Probiotic therapy", "Procedural hypotension", "Procedural pain", "Product used for unknown indication", "Productive cough", "Progression of multiple sclerosis", "Progressive multifocal leukoencephalopathy", "Prophylactic", "Prophylactic antibiotic therapy", "Prophylactic surgery, unspecified", "Prophylactic vaccination", "Prophylaxis", "Prophylaxis against diarrhoea", "Prophylaxis against drug-induced ulcer", "Prophylaxis against gastrointestinal ulcer", "Prophylaxis against graft versus host disease", "Prophylaxis against hiv infection", "Prophylaxis against liver transplant rejection", "Prophylaxis against motion sickness", "Prophylaxis against renal and pancreas transplant rejection", "Prophylaxis against renal transplant rejection", "Prophylaxis against transplant rejection", "Prophylaxis of nausea and vomiting", "Prophylaxis of neural tube defect", "Prophylaxis of nsaid gastric ulceration", "Prostate cancer", "Prostate cancer metastatic", "Prostate cancer stage ii", "Prostate carcinoma", "Prostatic disorder", "Prostatic hyperplasia", "Prostatic hypertrophy", "Prostatomegaly", "Proteinuria", "Prothrombin activity decreased", "Prothrombin time abnormal", "Pruritus", "Pruritus cutaneous", "Pseudallescheria infection", "Pseudomonas infection", "Psoriasis", "Psoriasis vulgaris", "Psoriatic arthritis", "Psoriatic arthropathy", "Psychiatric decompensation", "Psychiatric disorder nos", "Psychiatric symptom", "Psychosis", "Psychotic disorder", "Pulmonary arterial hypertension", "Pulmonary cryptococcosis", "Pulmonary embolism", "Pulmonary fibrosis", "Pulmonary hypertension", "Pulmonary mycobacterial infection", "Pulmonary tb", "Pulmonary thromboembolism", "Pulmonary thrombosis", "Pulmonary tuberculosis", "Pulse irregular", "Purulent pharyngitis", "Pustular psoriasis", "Pustular rash", "Pyelonephritis acute", "Pyoderma gangrenosum", "Pyogenic arthritis, unspecified", "Pyogenic liver abscess", "Pyrexia", "Q fever", "Queasy", "Quick's value decreased", "Ra", "Rash", "Rectal cancer", "Rectal cancer stage iv", "Rectosigmoid cancer recurrent", "Recurrent depressive disorder", "Recurrent urinary tract infection", "Redness of face", "Reflux esophagitis", "Reflux oesophagitis", "Refractory anaemia with ringed sideroblasts", "Refractory epilepsy", "Relapsing multiple sclerosis", "Relapsing-remitting multiple sclerosis", "Relaxation", "Renal anaemia", "Renal anemia", "Renal artery stent placement", "Renal cancer", "Renal cancer metastatic", "Renal cancer stage iv", "Renal cell carcinoma", "Renal colic", "Renal dialysis", "Renal disease", "Renal disorder", "Renal failure", "Renal failure chronic", "Renal insufficiency", "Renal transplant", "Respiratory arrest", "Respiratory infection", "Respiratory tract infection", "Respiratory tuberculosis unspecified, without mention of bacteriological or histological confirmation", "Restless legs", "Restless legs syndrome", "Restlessness", "Retinal angiomatous proliferation", "Retinal necrosis", "Retinal vascular occlusions", "Retinal vein occlusion", "Retinopathy of prematurity", "Rheumatic disorder", "Rheumatic heart disease nos", "Rheumatism", "Rheumatoid arthritis", "Rheumatoid arthritis, unspecified", "Rhinitis", "Rhinitis (infective)", "Rhinitis allergic", "Rhinorrhoea", "Richter's syndrome", "Road traffic accident", "Rosacea", "Rotator cuff tendinitis", "Routine childhood immunisation", "Routine childhood immunization", "Routine health maintenance", "Routine vaccination", "Saliva secretion excessive", "Sarcoidosis", "Sarcoma", "Scan with contrast", "Scedosporium apiospermum infection", "Scedosporium infection", "Schizoaffective disorder", "Schizophrenia", "Schnitzler's syndrome", "Sciatic nerve injury", "Sciatica", "Scleroderma", "Scleroderma associated digital ulcer", "Sclerosis multiple", "Seasonal allergy", "Seborrhoeic keratosis", "Secondary progressive multiple sclerosis", "Secretion discharge", "Sedation", "Sedative therapy", "Seizure", "Seizure prophylaxis", "Seizures", "Self-medication", "Senile osteoporosis", "Sensorineural hearing loss, unspecified", "Sepsis", "Sepsis neonatal", "Septic shock", "Septicemia", "Seronegative arthritis", "Seronegative arthropathy", "Seropositive rheumatoid arthritis", "Severe acute respiratory syndrome", "Shock", "Shock, not elsewhere classified", "Short-bowel syndrome", "Shortness of breath", "Shoulder pain", "Shunt aneurysm", "Sickle cell disease", "Sigmoidoscopy", "Sinus disorder", "Sinus operation", "Sinusitis", "Sjogren's syndrome", "Skin bacterial infection", "Skin cancer", "Skin cosmetic procedure", "Skin disorder", "Skin wrinkling", "Sle", "Sleep apnoea syndrome", "Sleep difficult", "Sleep disorder", "Sleep disorder therapy", "Sleep problem", "Sleeplessness", "Slurred speech", "Small cell lung cancer", "Smear test", "Smoking cessation therapy", "Snake bite", "Sneezing", "Social phobia", "Soft tissue inflammation", "Soft tissue sarcoma", "Somatoform disorder", "Somnolence", "Sore throat", "Soreness of joint", "Spasms", "Spastic bladder", "Spasticity", "Spinal muscular atrophy", "Spondylitis", "Spondylolisthesis", "Sputum bloody", "Squamous cell carcinoma", "Squamous cell carcinoma of head and neck", "Squamous cell carcinoma of head and neck metastatic", "Squamous cell carcinoma of lung", "Squamous cell carcinoma of skin", "Squamous cell carcinoma of the tongue", "St segment elevation myocardial infarction", "Stable angina pectoris", "Staphylococcal infection", "Staphylococcus aureus skin infection", "Status epilepticus", "Stem cell transplant", "Stenosis", "Stent placement", "Steroid therapy", "Stiff neck", "Stomach cancer", "Stomach discomfort", "Stomach feeling heavy", "Stomatitis", "Streptococcal infection", "Stress", "Stroke", "Struma", "Strumectomy", "Substance abuse", "Sudden cardiac death, so described", "Suicidal intention", "Suicide attempt", "Supplementation therapy", "Supportive care", "Supraventricular extrasystoles", "Supraventricular tachycardia", "Surgery", "Surgical intervention", "Surgical procedure", "Suture rupture", "Swelling", "Swelling of eyelid", "Symptomatic epilepsy", "Synovitis and tenosynovitis, unspecified", "Syringomyelia", "Systemic herpes zoster infection", "Systemic lupus erythematosis", "Systemic lupus erythematosus", "Systemic lupus erythematosus, unspecified", "Systemic onset juvenile idiopathic arthritis", "T-cell prolymphocytic leukaemia", "T315i mutation", "Tachyarrhythmia", "Tachycardia", "Tafro syndrome", "Takayasu's arteritis", "Tardive dyskinesia", "Taste disturbance", "Tb", "Tb prophylaxis", "Temporal arteritis", "Temporal lobe epilepsy", "Tendon rupture", "Tension", "Thalassemia major", "Thermal burn", "Throat infection", "Throat pain", "Thrombocytopenia", "Thrombocytosis", "Thromboembolism prophylaxis", "Thrombolysis", "Thrombopenia", "Thrombophlebitis", "Thrombosis", "Thrombosis of leg deep venous", "Thrombosis prophylaxis", "Thrombosis prophylaxis in haemodialysis", "Thymic cancer metastatic", "Thyroid cancer", "Thyroid disorder", "Thyroid remnant ablation", "Thyroidectomy", "Thyroidectomy total", "Thyroiditis chronic", "Tick bite", "Tinea", "Tinea capitis", "Tinea corporis", "Tinea cruris", "Tinea pedis", "Tinnitus", "Tocolysis", "Tonic-clonic seizures", "Tonsil cancer", "Tonsillitis", "Tonsillitis bacterial", "Tooth ache", "Tooth pain", "Toothache", "Torticollis", "Transfusion reaction", "Transient cerebral ischaemic attacks and related syndromes", "Transient ischaemic attack", "Transitional cell carcinoma", "Transplant", "Treatment-resistant schizophrenia", "Tremor", "Trichomoniasis", "Trigeminal neuralgia", "Triple negative breast cancer", "Tuberculin test", "Tuberculoma of brain", "Tuberculosis", "Tuberculosis of intestines, peritoneum and mesenteric glands", "Tuberculosis of spine", "Tuberculosis prophylaxis", "Tuberculosis test", "Tumor pain", "Tumour associated fever", "Tumour lysis syndrome", "Tumour marker increased", "Tumour pain", "Turner's syndrome", "Type 1 diabetes mellitus", "Type 2 diabetes mellitus", "Type i diabetes mellitus", "Type ii diabetes mellitus", "Type ii diabetes mellitus without mention of complication", "Type iia hyperlipidaemia", "Type v hyperlipidaemia", "Ulcer", "Ulcer of oesophagus", "Ulcerative colitis", "Unevaluable event", "Unrest", "Unspecified urinary incontinence", "Upper limb fracture", "Upper respiratory tract infection", "Upper respiratory tract infection bacterial", "Upper-airway cough syndrome", "Urge incontinence", "Uric acid abnormal", "Uric acid increased", "Urinary frequency", "Urinary incontinence", "Urinary infection", "Urinary tract infection", "Urinary tract infection bacterial", "Urinary tract infection pseudomonal", "Urinary tract infection, site not specified", "Urinary urgency", "Urination impaired", "Urothelial carcinoma", "Urticaria", "Uterine cancer", "Uterine leiomyoma", "Uveitis", "Vaccination", "Vaginal discharge", "Vaginal mycosis", "Vaginitis", "Vaginosis bacterial", "Varicella zoster virus infection", "Varices oesophageal", "Vascular anomaly", "Vascular disorder prophylaxis", "Vasoconstriction", "Venoocclusive liver disease", "Venous thromboembolism", "Venous thromboembolism prophylaxis", "Venous thrombosis", "Ventricular arrhythmia", "Vertebral pain", "Vertigo", "Very long-chain acyl-coenzyme a dehydrogenase deficiency", "Viith nerve paralysis", "Viraemia", "Viral hepatitis c", "Viral infection", "Visceral leishmaniasis", "Visual impairment", "Vitamin b12 deficiency", "Vitamin c supplementation", "Vitamin d decreased", "Vitamin d deficiency", "Vitamin d supplementation", "Vitamin supplementation", "Vitiligo", "Vomited", "Vomiting", "Vomiting post chemotherapy", "Von willebrand's disease", "Vulvovaginal candida", "Waldenstrom's macroglobulinaemia", "Waldenstrom's macroglobulinemia", "Walking difficulty", "Water retention", "Weaning failure", "Weight control", "Weight decreased", "Weight increase", "Wheezing", "White blood cell decreased", "Wisdom teeth removal", "Withdrawal syndrome", "Worms", "Wound infection due to pseudomonas aeruginosa", "Wrong drug administered", "X-ray with contrast upper gastrointestinal tract"]
    return random.choice(sample_indications)

def get_source_type():
    return np.random.binomial(4, 0.5) + 1

def get_timeonset_min():
    return np.random.normal(350, 150)

def get_timeonset_max(min):
    return min + 1
#    if np.random.normal(350, 150): # change this to become "something" + min > min
#        return np.random.binomial(6, 0.166) + 1
#   else:
#        return "_"

#VigiBase Relational class simulation functions

def setup_simulation_demographic():
    Prior1 = Node(name="UMCReportID", function=my_range, size_field="stop")
    Prior2 = Node(name="AgeGroup", function=get_age_group)
    Prior3 = Node(name="Gender", function=get_gender)
    Prior4 = Node(name="DateDatabase", function=get_date)
    Prior5 = Node(name="Type", function=get_seriousness)
    Prior6 = Node(name="Region", function=get_seriousness)
    Prior7 = Node(name="FirstDateDatabase", function=get_date)
    listNodes = [Prior1, Prior2, Prior3, Prior4,Prior5, Prior6, Prior7]
    my_graph = Graph(list_nodes=listNodes, name="Demographic Case Information")
    output = my_graph.simulate(SAMPLE_SIZE, csv_name="demographic")
    return output

def setup_simulation_drug():
    Prior1 = Node(name="UMCReportID", function=my_range, size_field="stop")
    Prior2 = Node(name="Drug_ID", function=my_range, size_field="stop")
    Prior3 = Node(name="MedicinalProd_ID", function=my_range, size_field="stop")
    Prior4 = Node(name="DrecNo", function=np.random.normal, args = [600000, 150000])
    Prior5 = Node(name="Seq1", function=np.random.normal, args = [10, 3])
    Prior6 = Node(name="Seq2", function=np.random.normal, args = [100, 15])
    Prior7 = Node(name="Route", function=np.random.normal, args = [100, 20])
    Prior8 = Node(name="Basis", function=get_seriousness)
    Prior9 = Node(name="Amount", function=np.random.normal, args = [1000, 150])
    Prior10 = Node(name="AmountU", function=get_seriousness)
    Prior11 = Node(name="Frequency", function=get_seriousness)
    Prior12 = Node(name="FrequencyU", function=np.random.normal, args = [1000, 450])
    listNodes = [Prior1, Prior2, Prior3, Prior4,Prior5, Prior6, Prior7, Prior8, Prior9, Prior10, Prior11, Prior12]
    my_graph = Graph(list_nodes=listNodes, name="Drug Information")
    output = my_graph.simulate(SAMPLE_SIZE, csv_name="drug")
    return output

def setup_simulation_reaction():
    Prior1 = Node(name="UMCReportID", function=my_range, size_field="stop")
    Prior2 = Node(name="AdrID", function=my_range, size_field="stop")
    Prior3 = Node(name="MedDRA_ID", function=my_range, size_field="stop")
    Prior4 = Node(name="Outcome", function=get_seriousness)
    listNodes = [Prior1, Prior2, Prior3, Prior4]
    my_graph = Graph(list_nodes=listNodes, name="Adverse Drug Reaction Information")
    output = my_graph.simulate(SAMPLE_SIZE, csv_name="reaction")
    return output

def setup_simulation_out():
    Prior1 = Node(name="UMCReportID", function=my_range, size_field="stop")
    Prior2 = Node(name="Seriousness", function=get_seriousness)  # , kwargs={"n": 6, "p": 0.166})
    Prior3 = Node(name="Serious", function=serious_type_from_generator)
    listNodes = [Prior1, Prior2, Prior3]
    my_graph = Graph(list_nodes=listNodes, name="Serious Information")
    output = my_graph.simulate(SAMPLE_SIZE, csv_name="out")
    return output

def setup_simulation_link_of_drug_reaction_pair():
    Prior1 = Node(name="DrugID", function=my_range, size_field="stop")
    Prior2 = Node(name="AdrID", function=my_range, size_field="stop")
    Prior3 = Node(name="Dechallenge1", function=get_challenge)
    Prior4 = Node(name="Dechallenge2", function=get_challenge)
    Prior5 = Node(name="Rechallenge1", function=get_challenge)
    Prior6 = Node(name="Rechallenge2", function=get_challenge)
    Prior7 = Node(name="TimeToOnsetMin", function=np.random.normal, args = [350, 150]) # function=np.random.normal, arguments={"n": 1, "p": 0.5})
    Prior8 = Node(name="TimeToOnsetMax", function=lambda min: min+1, args = [Prior7])# {"n": 1, "p": 0.5})
    listNodes = [Prior1, Prior2, Prior3, Prior4,Prior5,Prior6,Prior7,Prior8]
    my_graph = Graph(listNodes, name="Report source class")
    output = my_graph.simulate(SAMPLE_SIZE, csv_name="link")
    return output

def setup_simulation_report_source():
    Prior1 = Node(name="UMCReportID", function=my_range, size_field="stop")
    Prior2 = Node(name="Type", function=get_source_type)
    listNodes = [Prior1, Prior2]
    my_graph = Graph(listNodes, name="Report source class")
    output = my_graph.simulate(SAMPLE_SIZE, csv_name="source")
    return output

def setup_simulation_drug_indication():
    Prior1 = Node(name="Drug_Id", function=my_range, size_field="stop")
    Prior2 = Node(name="Indication", function=get_indication_type)
    listNodes = [Prior1, Prior2]
    my_graph = Graph(listNodes, name="Drug indication class")
    output = my_graph.simulate(SAMPLE_SIZE, csv_name="indication")
    return output

def setup_simulation_report_followup():
    Prior1 = Node(name="UMCReportID", function=my_range, size_field="stop")
    Prior2 = Node(name="ReplacedUMCReportID", function=my_range, size_field="stop")
    listNodes = [Prior1, Prior2]
    my_graph = Graph(listNodes, name="Report followup class")
    output = my_graph.simulate(SAMPLE_SIZE, csv_name="followup")
    return output

def simulate_world(SAMPLE_SIZE):
    setup_simulation_drug()
    setup_simulation_demographic()
    setup_simulation_reaction()
    setup_simulation_out()
    setup_simulation_link_of_drug_reaction_pair()
    setup_simulation_report_source()
    setup_simulation_drug_indication()
    setup_simulation_report_followup()

#Runtime method and interface
simulation_size_input = input ("Enter the size of records to simulate : ")
SAMPLE_SIZE = int(simulation_size_input)
simulate_world(SAMPLE_SIZE)